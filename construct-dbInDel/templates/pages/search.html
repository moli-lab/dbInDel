{% extends "base.html" %}
{% load staticfiles %}
{% block title %}
    dbIndel - Search
{% endblock %}
{% block css %}
    <!-- DataTables CSS -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/dataTables.bootstrap.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/responsive.bootstrap.min.css' %}">
{% endblock %}
{% block scripts %}
    <!-- DataTables -->
    <script type="text/javascript" charset="UTF-8" src="{% static 'js/jquery.dataTables.min.js' %}"></script>
    <script type="text/javascript" charset="UTF-8" src="{% static 'js/dataTables.bootstrap.min.js' %}"></script>
    <script type="text/javascript" charset="UTF-8" src="{% static 'js/dataTables.responsive.min.js' %}"></script>
    <script type="text/javascript" charset="UTF-8" src="{% static 'js/responsive.bootstrap.min.js' %}"></script>
    <script type="text/javascript" charset="UTF-8" src="{% static 'js/search.js' %}"></script>
{% endblock %}
{% block content %}

    <div class="container">

        <div class="panel panel-primary">
            <div class="panel-heading">
                <h3 class="panel-title">Search</h3>
            </div>
            <div class="panel-body">
                <form class="form-inline">
                    <ul class="nav nav-tabs" role="tablist" id="search_tabs">
                        <li role="presentation" class="{% if not search or search == 'gene' %}active{% endif %}">
                            <a href="#gene" aria-controls="home" role="tab" data-toggle="tab">Gene</a>
                        </li>
                        <li role="presentation" class="{% if search and search == 'region' %}active{% endif %}">
                            <a href="#region" aria-controls="profile" role="tab" data-toggle="tab">Region</a>
                        </li>
                    </ul>

                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane {% if not search or search == 'gene' %}active{% endif %}"
                             id="gene">
                            <div class="form-group">
                                <label for="gene_genome_input" class="control-label">Species:</label>
                                <select name="gene_genome" id="gene_genome_input" class="form-control">
                                    <option value="hg19" {% if gene_genome == 'hg19' %}selected="selected"{% endif %}>
                                        Human(hg19)
                                    </option>
                                    <option value="mm10" {% if gene_genome == 'mm10' %}selected="selected"{% endif %}>
                                        Murine(mm10)
                                    </option>
                                </select>
                            </div>


                        
<div class="form-group">
<label for="gene_cancer_type_input" class="control-label">Cancer Type:</label>
<select name="gene_cancer_type" id="gene_cancer_type_input" class="form-control">

<option value="All" {% if gene_cancer_type == 'All' %}selected="selected"{% endif %}>All</option>
<option value="Adenoid Cystic Cancer" {% if gene_cancer_type == 'Adenoid Cystic Cancer' %}selected="selected"{% endif %}>Adenoid Cystic Cancer</option>
<option value="Bladder Cancer" {% if gene_cancer_type == 'Bladder Cancer' %}selected="selected"{% endif %}>Bladder Cancer</option>
<option value="Brain Cancer" {% if gene_cancer_type == 'Brain Cancer' %}selected="selected"{% endif %}>Brain Cancer</option>
<option value="Breast Cancer" {% if gene_cancer_type == 'Breast Cancer' %}selected="selected"{% endif %}>Breast Cancer</option>
<option value="Cervical Cancer" {% if gene_cancer_type == 'Cervical Cancer' %}selected="selected"{% endif %}>Cervical Cancer</option>
<option value="Cholangio Cancer" {% if gene_cancer_type == 'Cholangio Cancer' %}selected="selected"{% endif %}>Cholangio Cancer</option>
<option value="Colorectal Cancer" {% if gene_cancer_type == 'Colorectal Cancer' %}selected="selected"{% endif %}>Colorectal Cancer</option>
<option value="Embryonal Cancer" {% if gene_cancer_type == 'Embryonal Cancer' %}selected="selected"{% endif %}>Embryonal Cancer</option>
<option value="Endometrioid Cancer" {% if gene_cancer_type == 'Endometrioid Cancer' %}selected="selected"{% endif %}>Endometrioid Cancer</option>
<option value="Ewing Sarcoma" {% if gene_cancer_type == 'Ewing Sarcoma' %}selected="selected"{% endif %}>Ewing Sarcoma</option>
<option value="Kidney Cancer" {% if gene_cancer_type == 'Kidney Cancer' %}selected="selected"{% endif %}>Kidney Cancer</option>
<option value="Leukemia" {% if gene_cancer_type == 'Leukemia' %}selected="selected"{% endif %}>Leukemia</option>
<option value="Liver Cancer" {% if gene_cancer_type == 'Liver Cancer' %}selected="selected"{% endif %}>Liver Cancer</option>
<option value="Lung Cancer" {% if gene_cancer_type == 'Lung Cancer' %}selected="selected"{% endif %}>Lung Cancer</option>
<option value="Lymphoma" {% if gene_cancer_type == 'Lymphoma' %}selected="selected"{% endif %}>Lymphoma</option>
<option value="Medulloblastoma" {% if gene_cancer_type == 'Medulloblastoma' %}selected="selected"{% endif %}>Medulloblastoma</option>
<option value="Melanoma" {% if gene_cancer_type == 'Melanoma' %}selected="selected"{% endif %}>Melanoma</option>
<option value="Meningioma" {% if gene_cancer_type == 'Meningioma' %}selected="selected"{% endif %}>Meningioma</option>
<option value="Myeloma" {% if gene_cancer_type == 'Myeloma' %}selected="selected"{% endif %}>Myeloma</option>
<option value="Neuroblastoma" {% if gene_cancer_type == 'Neuroblastoma' %}selected="selected"{% endif %}>Neuroblastoma</option>
<option value="Non-malignant " {% if gene_cancer_type == 'Non-malignant ' %}selected="selected"{% endif %}>Non-malignant </option>
<option value="Osteosarcoma" {% if gene_cancer_type == 'Osteosarcoma' %}selected="selected"{% endif %}>Osteosarcoma</option>
<option value="Other" {% if gene_cancer_type == 'Other' %}selected="selected"{% endif %}>Other</option>
<option value="Pancreatic Cancer" {% if gene_cancer_type == 'Pancreatic Cancer' %}selected="selected"{% endif %}>Pancreatic Cancer</option>
<option value="Prostate Cancer" {% if gene_cancer_type == 'Prostate Cancer' %}selected="selected"{% endif %}>Prostate Cancer</option>
<option value="Rhabdomyosarcoma" {% if gene_cancer_type == 'Rhabdomyosarcoma' %}selected="selected"{% endif %}>Rhabdomyosarcoma</option>
<option value="Skin Cancer" {% if gene_cancer_type == 'Skin Cancer' %}selected="selected"{% endif %}>Skin Cancer</option>

                                </select>
                            </div>


                            <div class="form-group">
                                <label for="gene_input" class="control-label">Gene:</label>
                                <input value="{% if gene %}{{ gene }}{% endif %}" name="gene" type="text"
                                       id="gene_input"
                                       class="form-control"
                                       placeholder="gene name or gene id">
                            </div>

                            <button type="submit" class="btn btn-primary" name="search" value="gene">Search</button>
                        </div>

                        <div role="tabpanel" class="tab-pane {% if search and search == 'region' %}active{% endif %}"
                             id="region">
                            <div class="form-group">
                                <label for="region_genome_input" class="control-label">Species:</label>
                                <select name="region_genome" id="region_genome_input" class="form-control">
                                    <option value="hg19" {% if region_genome == 'hg19' %}selected="selected"{% endif %}>
                                        Human(hg19)
                                    </option>
                                    <option value="mm10" {% if region_genome == 'mm10' %}selected="selected"{% endif %}>
                                        Murine(mm10)
                                    </option>
                                </select>
                            </div>

                    <div class="form-group">
                    <label for="region_cancer_type_input" class="control-label">Cancer Type:</label>
                                <select name="region_cancer_type" id="region_cancer_type_input" class="form-control">
<option value="All" {% if region_cancer_type == 'All' %}selected="selected"{% endif %}>All</option>
<option value="Adenoid Cystic Cancer" {% if region_cancer_type == 'Adenoid Cystic Cancer' %}selected="selected"{% endif %}>Adenoid Cystic Cancer</option>
<option value="Bladder Cancer" {% if region_cancer_type == 'Bladder Cancer' %}selected="selected"{% endif %}>Bladder Cancer</option>
<option value="Brain Cancer" {% if region_cancer_type == 'Brain Cancer' %}selected="selected"{% endif %}>Brain Cancer</option>
<option value="Breast Cancer" {% if region_cancer_type == 'Breast Cancer' %}selected="selected"{% endif %}>Breast Cancer</option>
<option value="Cervical Cancer" {% if region_cancer_type == 'Cervical Cancer' %}selected="selected"{% endif %}>Cervical Cancer</option>
<option value="Cholangio Cancer" {% if region_cancer_type == 'Cholangio Cancer' %}selected="selected"{% endif %}>Cholangio Cancer</option>
<option value="Colorectal Cancer" {% if region_cancer_type == 'Colorectal Cancer' %}selected="selected"{% endif %}>Colorectal Cancer</option>
<option value="Embryonal Cancer" {% if region_cancer_type == 'Embryonal Cancer' %}selected="selected"{% endif %}>Embryonal Cancer</option>
<option value="Endometrioid Cancer" {% if region_cancer_type == 'Endometrioid Cancer' %}selected="selected"{% endif %}>Endometrioid Cancer</option>
<option value="Ewing Sarcoma" {% if region_cancer_type == 'Ewing Sarcoma' %}selected="selected"{% endif %}>Ewing Sarcoma</option>
<option value="Kidney Cancer" {% if region_cancer_type == 'Kidney Cancer' %}selected="selected"{% endif %}>Kidney Cancer</option>
<option value="Leukemia" {% if region_cancer_type == 'Leukemia' %}selected="selected"{% endif %}>Leukemia</option>
<option value="Liver Cancer" {% if region_cancer_type == 'Liver Cancer' %}selected="selected"{% endif %}>Liver Cancer</option>
<option value="Lung Cancer" {% if region_cancer_type == 'Lung Cancer' %}selected="selected"{% endif %}>Lung Cancer</option>
<option value="Lymphoma" {% if region_cancer_type == 'Lymphoma' %}selected="selected"{% endif %}>Lymphoma</option>
<option value="Medulloblastoma" {% if region_cancer_type == 'Medulloblastoma' %}selected="selected"{% endif %}>Medulloblastoma</option>
<option value="Melanoma" {% if region_cancer_type == 'Melanoma' %}selected="selected"{% endif %}>Melanoma</option>
<option value="Meningioma" {% if region_cancer_type == 'Meningioma' %}selected="selected"{% endif %}>Meningioma</option>
<option value="Myeloma" {% if region_cancer_type == 'Myeloma' %}selected="selected"{% endif %}>Myeloma</option>
<option value="Neuroblastoma" {% if region_cancer_type == 'Neuroblastoma' %}selected="selected"{% endif %}>Neuroblastoma</option>
<option value="Non-malignant " {% if region_cancer_type == 'Non-malignant ' %}selected="selected"{% endif %}>Non-malignant </option>
<option value="Osteosarcoma" {% if region_cancer_type == 'Osteosarcoma' %}selected="selected"{% endif %}>Osteosarcoma</option>
<option value="Other" {% if region_cancer_type == 'Other' %}selected="selected"{% endif %}>Other</option>
<option value="Pancreatic Cancer" {% if region_cancer_type == 'Pancreatic Cancer' %}selected="selected"{% endif %}>Pancreatic Cancer</option>
<option value="Prostate Cancer" {% if region_cancer_type == 'Prostate Cancer' %}selected="selected"{% endif %}>Prostate Cancer</option>
<option value="Rhabdomyosarcoma" {% if region_cancer_type == 'Rhabdomyosarcoma' %}selected="selected"{% endif %}>Rhabdomyosarcoma</option>
<option value="Skin Cancer" {% if region_cancer_type == 'Skin Cancer' %}selected="selected"{% endif %}>Skin Cancer</option>
                                </select>
                            </div>

<br/><br/>

                            <div class="form-group">
                                <label for="chrom_input">Region:</label>
                                <div class="input-group">
                                    <div class="input-group-addon">chr</div>
                                    <input type="number" class="form-control" id="chrom_input" name="chrom"
                                           value="{% if chrom %}{{ chrom }}{% endif %}">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="start_input" class="control-label">:</label>
                                <input type="number" id="start_input" class="form-control" name="region_start"
                                       value="{% if start %}{{ start }}{% endif %}">
                            </div>
                            <div class="form-group">
                                <label for="end_input" class="control-label">-</label>
                                <input type="number" id="end_input" class="form-control" name="region_end"
                                       value="{% if end %}{{ end }}{% endif %}">
                            </div>
                            <button type="submit" class="btn btn-primary" name="search" value="region">Search</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
<br/>
        {% if search %}
            <table id="indels" class="table table-striped table-bordered" cellspacing="0" width="100%">
                <thead>
                <tr>
                    <th style="text-align:left">In-Del</th>
                    <th style="text-align:center">Related Gene</th>
                    <th style="text-align:center">Annotation</th>
                    <th style="text-align:center">In dbSNP</th>
                    <th style="text-align:center">Ins-Reads</th>
                    <th style="text-align:center">Bias Reads</th>
                    <th style="text-align:center">Distance to TSS</th>
                    <th style="text-align:center">Nearest Refseq</th>
                    <th style="text-align:center">Recuritted TFs</th>
                    <th style="text-align:center">Sample</th>
                    <th style="text-align:center">Cancer_type</th>
                </tr>
                </thead>
                <tfoot>
                    <tr>
                    <th style="text-align:left"></th>
                    <th style="text-align:center"></th>
                    <th style="text-align:center"></th>
                    <th style="text-align:center"></th>
                    <th style="text-align:center"></th>
                    <th style="text-align:center"></th>
                    <th style="text-align:center"></th>
                    <th style="text-align:center"></th>
                    <th style="text-align:center"></th>
                    <th style="text-align:center"></th>
                    <th style="text-align:center"></th>
                </tr>
                </tfoot>
            </table>
        {% endif %}

    </div>

{% endblock %}
